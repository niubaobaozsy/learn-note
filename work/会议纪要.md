11:08

1、930迭代单据相关组件优化建议
2、组件设计相关规范

1、930迭代单据相关组件优化建议
xxx想法建议 - 泽辉
2、组件设计相关规范



- 路由结构需要调整 复用router



黄鹍

---

###### 原先ec命名有必要

产品单据类型 -客户单据类型

reim_type是否报账

有的需要走流程（报销）有的不需要， 

1，ea/ec/ca/pa/lm

2，not_reim（没有报账流程）

​	-ba/bdm/bm

本地代码案例

客户单据类型不再拆成文件（根据路由复用）

---

泽问：ba下的页面有差异如何处理

显示隐藏样式问题判断，如果业务复杂就不应该分开

现在只有ea，以后很有很多

泽问：ea_cl是产品单据类型，用单独的文件来写

可以，但是路由重复了

ea_cl  ea_ty两个路由文件区别不大，可以写在同一个

-----

结果：路由文件要改一下

---



第二部分：

想要调整store的结构  （mintations很多是可以复用的  公用mintation ） 复用mintation

---

ea详情页用同一个mixins

鹍：费用申请 出差计划  差异大的时候还需要复用吗？

ea ccm  变化大

----

区分产品或者客户单据类型：不确定用产品还是客户

鹍：放到mixin中处理，用变量处理

老捷豹也是这样用：用三个变量控制详情页展示的东西

领导看的和客户看的页面不一样就再需要一个参数  （各种）

预留一个参数 page_type 财务只读，老板只读，编辑，

鹍：统一加（beforeRouteEnter）他来做？



----

##### 复用组件

**详情页**分为三类组件  （公用，某种单据特有的，用v-if的形式来是否挂载特有的组件）

分成公共组件和ea有的组件

ec单用哪个公用组件

---

鹍：有78十种单据，都写if，哪会有7 80个if

​	一个产品单据类型建一个 

​	if到reimtype这一级

----

**填单页**到哪个层级

​		没必要报账类型

增才：抽象到产品单据类型

---

#### 组件设计规范

- 组件方法打一个标识：@vuese （没懂）
- 可以复写的方法：@wirteOver

----

国政：每个方法是做什么的写注释

鹍：大家想知道了解代码能不能复用

​	不是所有的单据都要用mixin，（找方法），将mixin命名详细，把代码划分的更细

​	mixin文件中的函数可以用，可以把他抽出来一个js文件

​	需要了解业务，是否这个函数会再被用

鹍-建议：每周开会讨论下，自己写的mixins，别人可能会用到的，

​				看到别人的代码随时提出来

​			泽辉：在项目中写一个changelog文档

​						什么时候加了什么，代码评审会讲下

​			鹍-建议：多花点时间在这上面，而不是业务代码上

-----