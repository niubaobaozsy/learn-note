# ES5+6+7

## ES5

![1534747656017](D:\MyData\zousy1\AppData\Local\Temp\1534747656017.png)

![1534747849765](D:\MyData\zousy1\AppData\Local\Temp\1534747849765.png)

![1534748098313](D:\MyData\zousy1\AppData\Local\Temp\1534748098313.png)

这里相当于window.Person()。在严格模式下，这是不允许的。需要new Person().。

![1534748162667](D:\MyData\zousy1\AppData\Local\Temp\1534748162667.png)

eval中有自己的作用域，不会污染全局的str

![1534748196662](D:\MyData\zousy1\AppData\Local\Temp\1534748196662.png)

对象不能有重名的属性

### json对象拓展

![1534748363360](D:\MyData\zousy1\AppData\Local\Temp\1534748363360.png)

### Object对象方法拓展

![1534750021818](D:\MyData\zousy1\AppData\Local\Temp\1534750021818.png)

![1534750089698](D:\MyData\zousy1\AppData\Local\Temp\1534750089698.png)

create方法，第一个参数是让这个对象的原型为指定对象。

![1534752916710](D:\MyData\zousy1\AppData\Local\Temp\1534752916710.png)

对象本身也有这两个方法

![1534753198219](D:\MyData\zousy1\AppData\Local\Temp\1534753198219.png)

#### 数组的扩展

![1534753280097](D:\MyData\zousy1\AppData\Local\Temp\1534753280097.png)

map方法

![1534753487657](D:\MyData\zousy1\AppData\Local\Temp\1534753487657.png)

数组中的每个值都加了10

### forEach()和map()遍历的区别

共同点：

​     1.都是循环遍历数组中的每一项。

​    2.forEach() 和 map() 里面每一次执行匿名函数都支持3个参数：数组中的当前项item,当前项的索引index,原始数组input。

   3.匿名函数中的this都是指Window。

   4.只能遍历数组。

1.forEach()

   没有返回值。

```
1. var ary = [12,23,24,42,1];  
2. var res = ary.forEach(function (item,index,input) {  
3.        input[index] = item*10;  
4. })  
5. console.log(res);//-->undefined;  
6. console.log(ary);//-->会对原来的数组产生改变；  
```

2.map()

有返回值，可以return 出来。

```js
1. var ary = [12,23,24,42,1];  
2. var res = ary.map(function (item,index,input) {  
3.     return item*10;  
4. })  
5. console.log(res);//-->[120,230,240,420,10];  
6. console.log(ary);//-->[12,23,24,42,1]；  
```

![1534753556126](D:\MyData\zousy1\AppData\Local\Temp\1534753556126.png)

过滤数组，只有return中为true。才会保留其余会删除。

#### 函数扩展

![1534753729211](D:\MyData\zousy1\AppData\Local\Temp\1534753729211.png)

区别bind()与call()和apply()的区别

1、都能指定函数中的this

call()/apply()是立即调用函数

bind()是将函数返回  返回一个被修改的函数

![1534754117139](D:\MyData\zousy1\AppData\Local\Temp\1534754117139.png)

bind函数一般用来做回调函数的this绑定

![1534754220857](E:\学习笔记\js\1534754220857.png)

回调函数定义时，不要直接调用。这就是bind的作用。

---

### ES6

### let const关键字

let

1、作用  与var类似，用于声明一个变量

2、特点   在块作用裕内有效  不能重复声明   不会预处理，**不存在变量提升**

3、应用 循环遍历加监听   使用let取代var是趋势

const

1、作用定义一个变量

2、特点：不能修改   ，其他特点同let**不存在变量提升**

3、应用:保存不用改变的数据



#### 变量的解构赋值

1、理解：从对象或数组中提取数据。并赋值1给变量（多个）

2、对象的结构赋值

![1534755558403](D:\MyData\zousy1\AppData\Local\Temp\1534755558403.png)

3、数据的解构赋值

![1534755725185](D:\MyData\zousy1\AppData\Local\Temp\1534755763523.png)

4、用途：给多个形参赋值

![1534755808356](D:\MyData\zousy1\AppData\Local\Temp\1534755808356.png)

![1537322469769](image\%5CUsers%5Cshuing%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1537322469769.png)

![1537322538383](image\%5CUsers%5Cshuing%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1537322538383.png)

![1537322635106](image\%5CUsers%5Cshuing%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1537322635106.png)

#### 模板字符串

1、模板字符串：简化字符串的拼接

​	模板字符串必须用``包含

​	变化的部分使用${xxx}定义

![1534758964127](D:\MyData\zousy1\AppData\Local\Temp\1534758964127.png)

### 简化的对象写法

省略同名的属性值

同名的key和value，对象中只需要写一个

省略方法的function

![1534759253861](D:\MyData\zousy1\AppData\Local\Temp\1534759253861.png)



### 箭头函数

作用：用于定义匿名函数

形参情况

![1534759462972](D:\MyData\zousy1\AppData\Local\Temp\1534759462972.png)

函数体的情况

![1534759509934](D:\MyData\zousy1\AppData\Local\Temp\1534759509934.png)

特性

1、箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，而是在定义的时候处在的对象就是它的this

箭头函数的this看外层是否有函数，如果有外层的this就是内部箭头函数的this，如果没有，则this是window

![1534759877197](D:\MyData\zousy1\AppData\Local\Temp\1534759877197.png)

this是window

箭头函数多用在回调函数中。

https://blog.csdn.net/zgrkaka/article/details/76836759

具体还需要举出笔试题

### 三点运算符

用来取代arguments，比arguments灵活

arguments伪数组。

arguments不是真正的数组，有length，也有callee方法调用callee方法是调用这个函数本身，通常用来递归调用。

三点运算符是一个真数组，可以使用foreach方法遍历。

![1534813249286](D:\MyData\zousy1\AppData\Local\Temp\1534813249286.png)

三点运算符只能放在最后。收集后面的形参。如果前面有确定的参数，那么三点运算符将不会收集前面站位符位置的参数。

 ![1534813415398](D:\MyData\zousy1\AppData\Local\Temp\1534813415398.png)

arr1数组，...arr1表示的是将数组值取出来

arr=[1,...ar1,6]将数组arr1插入到数组arr中。

直接打印...arr的话，出来的是字符串而不是数组

#### 形参默认值

当不传入参数的时候默认使用形参里的默认值

![1534816004906](D:\MyData\zousy1\AppData\Local\Temp\1534816004906.png)

#### promise对象原理详解

通过promise对象提供的函数，来改变promise的状态，并传递参数。最后可以给promise对象的实例里面写then函数，分别捕获成功和失败的状态，并执行相应的事件。ajax类似这个原理。只不过是用来控制各种异步事件之间的顺序和关系的。

![1534817040489](D:\MyData\zousy1\AppData\Local\Temp\1534817040489.png)



![1534817064642](D:\MyData\zousy1\AppData\Local\Temp\1534817064642.png)

这个老师讲的不好（不够详细，需要再看书，更详细的书。）

![1534819490211](D:\MyData\zousy1\AppData\Local\Temp\1534819490211.png)

这个onreadystateChange函数一共被调用4次，0-1一次  1-2一次 2-3一次 3-4一次

### 字符串扩展

1、includes(str)：判断是否包含指定的字符串

2、startsWith(str)：判断是否以指定字符串开始

3、endWith(str)：判断是否以指定字符串结尾

4、repeat(count)：重复指定次数

### 数值的扩展

1、二进制与八进制数值表示法：二进制0b，八进制0o

2、Number.isFinite(i)：判断是否是有限大的数

3、Number.isNaN(i)：判断是否是NaN

4、Number.isInteger(i)：判断是否是整数

5、Number.parseInt(str):将字符串转换为对应的数值

6、Math.trunc(i)：直接去除小数部分

### 数组的扩展

通过getElementsByTagName('button')得到的是伪数组，没有数组相关方法。

js的数组：可以存储任意类型的值。

1、Array.from(v)：将伪数组对象或可遍历对象转换为真数组。

2、Array.of(v1,v2,v3)：将一系列值转换成数组

3、find(function(value,index,arr){return true})：找出第一个满足条件返回true的元素

4、findIndex(function(value,index,arr){return true})：找出第一个满足条件返回true的元素的下标

### 对象的扩展

![1534822448461](D:\MyData\zousy1\AppData\Local\Temp\1534822448461.png)

Object.is（）底层是通过字符串来判断的

Object.assign(target,source1,source2..)将源对象的属性复制到目标对象上。

**可以直接操作隐式原型对象。**

[Async/await学习]

https://segmentfault.com/a/1190000013292562?utm_source=channel-newest





