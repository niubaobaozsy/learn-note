# git常使用的命令和应用场景

## 1，场景：在一个新电脑中上传项目到git上

1、（先进入项目文件夹）通过命令 git init 把这个目录变成git可以管理的仓库

```
git init
```

2、把文件添加到版本库中，使用命令 git add .添加到暂存区里面去，不要忘记后面的小数点“.”，意为添加文件夹下的所有文件

```
git add .
```

3、用命令 git commit告诉Git，把文件提交到仓库。引号内为提交说明

```
git commit -m 'first commit'
```

4、关联到远程库

```
git remote add origin 你的远程库地址
```

删除远程

```
$ git remote rm origin
```

如：

```
git remote add origin https://github.com/githubusername/demo.git
```

5、获取远程库与本地同步合并（如果远程库不为空必须做这一步，否则后面的提交会失败）

```
git pull --rebase origin master
```

6、把本地库的内容推送到远程，使用 git push命令，实际上是把当前分支master推送到远程。执行此命令后会要求输入用户名、密码，验证通过后即开始上传。

```
git push -u origin master
```

*、状态查询命令

查看本地仓库的状态，可以看到那些修改未提交

```
git status
```

7，新电脑配置ssh

```
ssh-keygen -t rsa -C 你的邮箱
```

 然后一直回车，它会生成一个 id _rsa.pub 文件，看上面截图，它有 保存路径的地址说明，按照保存路径找到文件，打开，复制里面的内容，登录到githob，点击右上角 小三角，出现如图，点击settings》》sshkey》》new ssh key（右上）。

8，git下载项目

----

## 2，切换分支

git fetch//这句是啥意思

```
git fetch origin master:tmp 
//在本地新建一个temp分支，并将远程origin仓库的master分支代码下载到本地temp分支
git diff tmp 
//来比较本地代码与刚刚从远程下载下来的代码的区别
git merge tmp
//合并temp分支到本地的master分支
git branch -d temp
//如果不想保留temp分支 可以用这步删除
```

git checkout 

github上已经有master分支 和dev分支

在本地

git checkout -b dev 新建并切换到本地dev分支

git pull origin dev 本地分支与远程分支相关联

在本地新建分支并推送到远程

git checkout -b test

git push origin test 这样远程仓库中也就创建了一个test分支

合并分支

```

git checkout master 
git pull 
git checkout dev
git merge master 
git push -u origin dev
```

**回退commit**

```
git reset --hard commit_id
```

```
git branch --set-upstream-to=origin/kuka kuka
```

---

merge一个分支中的某一个commit

- 执行完`git cherry-pick --continue`后不需要commit了，该命令会自动提交
- `git cherry-pick --abort`可以放弃本次`cherry-pick`

---

## 切换远程仓库地址

1，【git remote set-url origin URL】 更换远程仓库地址，URL为新地址

2， git remote -v  查看远程仓库

